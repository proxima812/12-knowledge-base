---
import AsideNews from "@components/AsideNews.astro";
import ListArticles from "@components/ListArticles.astro";
import Base from "@layouts/BaseLayout.astro";
import SectionBlur from "@layouts/SectionBlur.astro";
import { getCollection } from "astro:content";

const articles = (await getCollection("blog"))
  .filter((post) => !post.data.draft)
  .sort((a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf());
---

<Base title="Посты" description="">
  <SectionBlur
    className="flex justify-center mb-12"
    color1="#2079FF"
    color2="#EF2AC4"
  >
    <AsideNews />
  </SectionBlur>
  <ListArticles articles={articles} />
</Base>
